@model CarComparison.Areas.Admin.Models.User_
@{
    ViewBag.Title = "AccountInformationView";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var user = Session["user"] as CarComparison.Areas.Admin.Models.User_;
}

@*MENU*@
@section navbar{
    <li><a href="/Client/Index">Trang chủ</a></li>
    <li><a href="/Client/Comparing">So sánh Xe</a></li>
    <li><a href="/Client/Review">Bài đánh giá</a></li>
    <li><a href="/Client/Video">Video</a></li>
    <li><a href="/Client/Team">Team</a></li>
    <li><a href="/Client/Contact">Liên hệ</a></li>
}

    <section>
        @using (Html.BeginForm("AccountInformation", "Account", FormMethod.Post, new { enctype = "multipart/form-data" }))
        {
            @Html.AntiForgeryToken()
            <br />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="row">
                <div class="col-sm-3">
                    <!-- cột bên trái -->
                    <div class="text-center">
                        @Html.DisplayFor(model => model.id_user, new { @style = "display:none;"})
                        <img src=@user.avt_user class="avatar" style=" height: 18rem; width: 18rem; border-radius: 50% !important;" alt="avatar" id="img-thumb">
                        <br>
                        <div style="font-size:18px; margin-bottom:5px; margin-top:10px;">@Html.DisplayFor(model => model.name_user)</div>
                        <hr />
                        <h5 id="change_avt" style="display:none;">Đổi avatar</h5>
                        <input type="file" class="text-center center-block btn btn-block" onchange="funCheck()" accept=".jpg" name="imageFile" id="imageFile" style="display:none;">
                    </div>
                    <script>
                    function funCheck() {
                            var file = document.getElementById("imageFile").value;
                            var idxDot = file.lastIndexOf(".") + 1;
                            var extFile = file.substr(idxDot, file.length).toLowerCase();
                            if (extFile != "jpg") {
                                alert("Chỉ cho phép ảnh đuôi .jpg");
                                document.getElementById("imageFile").value = null;
                                 $('#img-thumb').attr('src', "@user.avt_user");
                            }
                            else {
                                var reader = new FileReader();

                                reader.onload = function (e) {
                                    $('#img-thumb').attr('src', e.target.result);
                                    $('#img-thumb').show();
                                }
                                reader.readAsDataURL(document.getElementById("imageFile").files[0]);
                            }
                        }
                    </script>
                </div>
                <div class="col-sm-9">
                    <!-- cột bên phải-->
                    <ul class="nav nav-tabs">
                        <li class="active"><a data-toggle="tab" href="#info" onclick="funInfo()">Thông tin</a></li>
                        <li><a data-toggle="tab" href="#edit" onclick="funEdit()">Sửa thông tin</a></li>
                        <li><a data-toggle="tab" href="#changepass" onclick="funChangePass()">Đổi mật khẩu</a></li>
                    </ul>
                    <script type="text/javascript">
                        function funEdit() {
                           $("#change_avt").show();
                           $("#imageFile").show();
                        }
                        function funInfo() {
                            $("#change_avt").hide();
                            $("#imageFile").hide();
                        }
                        function funChangePass() {
                            $("#change_avt").hide();
                            $("#imageFile").hide();
                        }
                    </script>
                    
                    <div class="tab-content">
                        <div class="tab-pane active" id="info">
                            <br />
                            <div style="display: flex;flex-wrap: wrap;">
                                <div style="width:40%;">
                                    <div class="form-group">
                                        <div style="font-size:18px; margin-bottom:10px;"><span style="font-weight:bold;">Họ tên:</span> @Html.DisplayFor(model => model.lname_user) @Html.DisplayFor(model => model.fname_user)</div>
                                        <div style="font-size:18px; margin-bottom:10px;"><span style="font-weight:bold;">Email:</span> @Html.DisplayFor(model => model.email_user)</div>
                                        <div style="font-size:18px; margin-bottom:10px;"><span style="font-weight:bold;">Giới tính:</span> @Html.DisplayFor(model => model.sex_user)</div>
                                    </div>
                                </div>
                                <div style="width:60%;">
                                    <div class="form-group">
                                        <div style="font-size:18px; margin-bottom:10px;"><span style="font-weight:bold;">Số điện thoại:</span> @Html.DisplayFor(model => model.phone_user)</div>
                                        <div style="font-size:18px; margin-bottom:10px;"><span style="font-weight:bold;">Ngày sinh:</span> @Html.DisplayFor(model => model.birthday_user)</div>
                                        <div style="font-size:18px; margin-bottom:10px;"><span style="font-weight:bold;">Địa chỉ:</span> @Html.DisplayFor(model => model.address_user)</div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-xs-12">
                                    <br>
                                    @if (user.id_user != "Us01")
                                    {
                                        <input class="btn btn-danger" type="button" name="action" value="Vô hiệu hóa tài khoản" />
                                    }
                                </div>
                            </div>
                        </div><!--/tab-pane-->
                        <div class="tab-pane" id="edit">
                            <br />
                            <div class="form-group">

                                <div class="col-xs-5">
                                    <label for="first_name"><h4>First name</h4></label>
                                    <input type="text" class="form-control" name="first_name" id="first_name" placeholder="first name" title="enter your first name if any.">
                                </div>
                            </div>
                            <div class="form-group">

                                <div class="col-xs-5">
                                    <label for="last_name"><h4>Last name</h4></label>
                                    <input type="text" class="form-control" name="last_name" id="last_name" placeholder="last name" title="enter your last name if any.">
                                </div>
                            </div>

                            <div class="form-group">

                                <div class="col-xs-5">
                                    <label for="phone"><h4>Phone</h4></label>
                                    <input type="text" class="form-control" name="phone" id="phone" placeholder="enter phone" title="enter your phone number if any.">
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-xs-5">
                                    <label for="mobile"><h4>Mobile</h4></label>
                                    <input type="text" class="form-control" name="mobile" id="mobile" placeholder="enter mobile number" title="enter your mobile number if any.">
                                </div>
                            </div>
                            <div class="form-group">

                                <div class="col-xs-5">
                                    <label for="email"><h4>Email</h4></label>
                                    <input type="email" class="form-control" name="email" id="email" placeholder="you@email.com" title="enter your email.">
                                </div>
                            </div>
                            <div class="form-group">

                                <div class="col-xs-5">
                                    <label for="email"><h4>Location</h4></label>
                                    <input type="email" class="form-control" id="location" placeholder="somewhere" title="enter a location">
                                </div>
                            </div>
                            <div class="form-group">

                                <div class="col-xs-5">
                                    <label for="password"><h4>Password</h4></label>
                                    <input type="password" class="form-control" name="password" id="password" placeholder="password" title="enter your password.">
                                </div>
                            </div>
                            <div class="form-group">

                                <div class="col-xs-5">
                                    <label for="password2"><h4>Verify</h4></label>
                                    <input type="password" class="form-control" name="password2" id="password2" placeholder="password2" title="enter your password2.">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-xs-12">
                                    <br>
                                    <button class="btn btn-lg btn-success" type="submit"><i class="glyphicon glyphicon-ok-sign"></i> Save</button>
                                    <button class="btn btn-lg" type="reset"><i class="glyphicon glyphicon-repeat"></i> Reset</button>
                                </div>
                            </div>

                        </div><!--/tab-pane-->
                        <div class="tab-pane" id="changepass">


                            <hr>
                            <form class="form" action="##" method="post" id="registrationForm">
                                <div class="form-group">

                                    <div class="col-xs-5">
                                        <label for="first_name"><h4>First name</h4></label>
                                        <input type="text" class="form-control" name="first_name" id="first_name" placeholder="first name" title="enter your first name if any.">
                                    </div>
                                </div>
                                <div class="form-group">

                                    <div class="col-xs-5">
                                        <label for="last_name"><h4>Last name</h4></label>
                                        <input type="text" class="form-control" name="last_name" id="last_name" placeholder="last name" title="enter your last name if any.">
                                    </div>
                                </div>

                                <div class="form-group">

                                    <div class="col-xs-5">
                                        <label for="phone"><h4>Phone</h4></label>
                                        <input type="text" class="form-control" name="phone" id="phone" placeholder="enter phone" title="enter your phone number if any.">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-xs-5">
                                        <label for="mobile"><h4>Mobile</h4></label>
                                        <input type="text" class="form-control" name="mobile" id="mobile" placeholder="enter mobile number" title="enter your mobile number if any.">
                                    </div>
                                </div>
                                <div class="form-group">

                                    <div class="col-xs-5">
                                        <label for="email"><h4>Email</h4></label>
                                        <input type="email" class="form-control" name="email" id="email" placeholder="you@email.com" title="enter your email.">
                                    </div>
                                </div>
                                <div class="form-group">

                                    <div class="col-xs-5">
                                        <label for="email"><h4>Location</h4></label>
                                        <input type="email" class="form-control" id="location" placeholder="somewhere" title="enter a location">
                                    </div>
                                </div>
                                <div class="form-group">

                                    <div class="col-xs-5">
                                        <label for="password"><h4>Password</h4></label>
                                        <input type="password" class="form-control" name="password" id="password" placeholder="password" title="enter your password.">
                                    </div>
                                </div>
                                <div class="form-group">

                                    <div class="col-xs-5">
                                        <label for="password2"><h4>Verify</h4></label>
                                        <input type="password" class="form-control" name="password2" id="password2" placeholder="password2" title="enter your password2.">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-xs-12">
                                        <br>
                                        <button class="btn btn-lg btn-success pull-right" type="submit"><i class="glyphicon glyphicon-ok-sign"></i> Save</button>
                                        <!--<button class="btn btn-lg" type="reset"><i class="glyphicon glyphicon-repeat"></i> Reset</button>-->
                                    </div>
                                </div>
                            </form>
                        </div>

                    </div><!--/tab-pane-->
                </div><!--/tab-content-->
            </div><!--/col-9-->
        }
    </section>


